<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>leaf-disk-gen: leaf-disk-gen</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!--Load MathJax manually...-->
<script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
MathJax.Hub.Config({
  displayAlign: "left",
  displayIndent: "2em",
  TeX: {
    Macros: {
        real: ["\\operatorname{Re}"],
        imag: ["\\operatorname{Im}"],
        dual: ["\\operatorname{Du}"],
        symm: ["\\operatorname{Symm}"],
        skew: ["\\operatorname{Skew}"],
        erf: ["\\operatorname{erf}"],
        erfc: ["\\operatorname{erfc}"],
        parens: ["{\\left({#1}\\right)}", 1],
        bracks: ["{\\left\\lbrack{#1}\\right\\rbrack}", 1],
        braces: ["{\\left\\lbrace{#1}\\right\\rbrace}", 1],
        verts: ["{\\left\\lvert{#1}\\right\\rvert}", 1],
        Verts: ["{\\left\\Vert{#1}\\right\\Vert}", 1]
    }
  }
});
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="DoxygenStyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">leaf-disk-gen
   </div>
   <div id="projectbrief">Leaf disk generation for DIRSIG scenes</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">leaf-disk-gen </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Leaf disk generation for DIRSIG scenes.</p>
<h3>Building from source</h3>
<div class="fragment"><div class="line">$ git clone --recursive https://github.com/mgradysaunders/leaf-disk-gen</div><div class="line">$ cd leaf-disk-gen</div><div class="line">$ mkdir bin &amp;&amp; cd bin</div><div class="line">$ cmake ..</div><div class="line">$ cmake --build .</div></div><!-- fragment --><p><a href="https://cmake.org"></a> <a href="https://github.com/ruby/rake"></a></p>
<h3>Usage</h3>
<p>This program generates a cloud of disjoint, disk-shaped &ldquo;leaves&rdquo; matching an underlying distribution of leaf angles, and outputs the resulting geometry either as a DIRSIG GList of true disk primitives or a Wavefront OBJ of triangulated disks. This is useful for abstract canopy simulations, which focus on overall light transport phenomena (not photorealism). The general program usage is </p><div class="fragment"><div class="line">$ ./bin/leaf-disk-gen desc [OPTIONS] [&lt;box&gt; [BOX-OPTIONS]|&lt;sphere&gt; [SPHERE-OPTIONS]]...</div></div><!-- fragment --><p> where <code>desc</code> is a string describing the leaf angle distribution, <code>[OPTIONS]</code> specifies global program options, and the sequence of <code>box</code> or <code>sphere</code> subcommands with <code>[BOX-OPTIONS]</code> or <code>[SPHERE-OPTIONS]</code> options specifies axis-aligned bounding boxes or spheres in which to generate the leaf primitives.</p>
<p>As mentioned, the <code>desc</code> string describes the leaf angle distribution. There are currently four types of leaf angle distributions implemented.</p><ol type="1">
<li><em>Uniform</em>, such that all leaf angles are equally likely. This is specified by the description string <code>"Uniform"</code>.</li>
<li><em>Trigonometric</em>, such that the Leaf Inclination Distribution Function (LIDF) is described by 1 of 5 different closed-form expressions. This is specified by the description string <code>"Trigonometric TYPE"</code> where <code>TYPE</code> is either <code>Planophile</code>, <code>Erectophile</code>, <code>Plagiophile</code>, <code>Extremophile</code>, or <code>Spherical</code>. See the doxygen doc for mathematical expressions for each type.</li>
<li><em>Verhoef Bimodal</em>, which continuously generalizes the trigonometric expressions via 2 real parameters. This is specified by the description string <code>"VerhoefBimodal A B"</code> where <code>A</code> and <code>B</code> are real numbers such that <code>|A| + |B| &lt;= 1</code>.</li>
<li><em>Microsurface</em>, such that the leaf angles follow one of the two standard microsurface normal distributions, <em>Trowbridge Reitz (GGX)</em> or <em>Beckmann</em>. This is specifed by the description string <code>"NAME ALPHAX ALPHAY"</code> where <code>NAME</code> is either <code>TrowbridgeReitz</code> or <code>Beckmann</code>, and <code>ALPHAX</code> and <code>ALPHAY</code> are positive floating point numbers corresponding to surface roughness in the X and Y directions. If these are equal, then the angle distribution is isotropic. Otherwise, the angle distribution is anisotropic.</li>
</ol>
<p>The global options <code>[OPTIONS]</code> are as follows.</p><ul>
<li><code>-s/--seed</code> to specify the seed for the random number generator. By default, this is <code>0</code>.</li>
<li><code>-m/--matid</code> to specify the material ID number to assign to the leaf primitives. By default, this is <code>100</code>.</li>
<li><code>-l/--lai</code> to specify Leaf Area Index (LAI) with respect to &ldquo;ground&rdquo; in the XY plane. LAI is defined as <em>leaf area per unit of ground area</em>. So, this indirectly controls the number of leaves generated. By default, this is <code>1</code>.</li>
<li><code>-r/--radius</code> to specify the radius of leaf disks in meters. By default, this is <code>0.05</code>.</li>
<li><code>-o/--output</code> to specify the output filename. This must end in either <code>.glist</code> or <code>.obj</code>, to designate the file as a DIRSIG GList or Wavefront OBJ respectively. By default, this is <code>leaf.glist</code>.</li>
<li><code>-ov/--output-ver-res</code> to specify the output vertex resolution. This is the number of vertices generated on the perimeter of each triangulated disk. <em>This only affects Wavefront OBJ output</em>, since DIRSIG GList output uses a true disk primitive. By default, this is <code>6</code>.</li>
<li><code>-h/--help</code> to display program help, which includes brief descriptions of all program options.</li>
</ul>
<p>The box options <code>[BOX-OPTIONS]</code> include only 2 options, <code>--from</code> and <code>--to</code>, which specify the coordinates of the corners of the box. Importantly, these options accept a string (surrounded by quotes) of an array (surrounded by square brackets, separated by commas) of three real numbers. For example, <code>--from "[1, 2, 3]"</code> specifies the point X=1, Y=2, Z=3, for the &ldquo;from&rdquo; corner.</p>
<p>The sphere options <code>[SPHERE-OPTIONS]</code> also include only 2 options, <code>--center</code> and <code>--radius</code>, which specify the center coordinate and radius of the sphere respectively.</p>
<p>As a more complete example, </p><div class="fragment"><div class="line">$ ./bin/leaf-disk-gen &quot;VerhoefBimodal -0.3 0.2&quot; -l 1.2 -r 0.05 -o &quot;verhoef-canopy.glist&quot; box --from &quot;[-5, -5, 0]&quot; --to &quot;[5, 5, 1]&quot;</div></div><!-- fragment --><p> generates a DIRSIG GList file <code>verhoef-canopy.glist</code> containing disk primitive instances over <code>-5&lt;X&lt;5</code>, <code>-5&lt;Y&lt;5</code>, <code>0&lt;Z&lt;1</code>, with average LAI of 1.2, radius of 5 centimeters, and angles matching a Verhoef bimodal LIDF with <code>A=-0.3</code> and <code>B=0.2</code>. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
